<section class="calendar-page">
  <div class="top-bar">
    <h2>ğŸ“… Monthly Calendar</h2>
    <div class="calendar-header">
      <button (click)="previousMonth()">â—€</button>
      <h2 class="calendar-title">{{ getMonthName(currentMonth) }} {{ currentYear }}</h2>
      <button (click)="nextMonth()">â–¶</button>
    </div>
  </div>

  <div class="calendar-weekdays">
    <div *ngFor="let day of ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']">{{ day }}</div>
  </div>

  <div class="calendar-grid">
    <div
  class="calendar-day"
  *ngFor="let date of getDaysInMonth()"
  [ngClass]="{ 'selected': isSelected(date) }"
  (click)="selectDate(date)"
>

      <strong>{{ date.getDate() }}</strong>
      <ul *ngIf="reminders[format(date)]?.length">
        <li *ngFor="let r of reminders[format(date)] trackBy: trackById">
          <span>{{ r.time ? r.time + ' - ' : '' }}{{ r.message }}</span>
        </li>
      </ul>
    </div>
  </div>

  <div class="reminder-form" *ngIf="selectedDate">
    <h3>â• Add Reminder for {{ selectedDate }}</h3>
    <input [(ngModel)]="newReminder" placeholder="Reminder text..." />
    <div class="reminder-options">
  <input [(ngModel)]="reminderTime" type="time" class="reminder-time" />
 <label>
  <div class="checkbox-row">
  <input type="checkbox" [(ngModel)]="sendEmail" id="sendEmailCheckbox" />
  <label for="sendEmailCheckbox">Send email reminder</label>
</div>
</label>
  <button (click)="addReminder()" class="add-button">Add</button>
</div>
  </div>

  <div class="reminder-list" *ngIf="selectedDate && reminders[selectedDate]?.length">
    <h4>ğŸ“Œ Reminders for {{ selectedDate }}:</h4>
    <ul>
      <li *ngFor="let r of reminders[selectedDate] trackBy: trackById">
        {{ r.time ? r.time + ' - ' : '' }}{{ r.message }}
        <button (click)="deleteReminderById(r.id, selectedDate)">X</button>
      </li>
    </ul>
  </div>

  <section class="email-reminder-form">
  <h3>ğŸ“¤ Send Manual Email Reminder</h3>
  <label>Message:</label>
  <input [(ngModel)]="reminderText" type="text" placeholder="Reminder message" />
  <button (click)="sendEmailReminder()">Send</button>
</section>
</section>
