<!-- Add/Edit Form (only in full mode) -->
<div *ngIf="!displayOnly" class="goal-form">
  <input type="text" [(ngModel)]="newGoal.name" placeholder="Goal name" />
  <input type="number" [(ngModel)]="newGoal.target" placeholder="Target amount" />
  
  <button *ngIf="!editingId" (click)="addGoal()">Add Goal</button>
  <button *ngIf="editingId" (click)="updateGoal()">Update</button>
  <button *ngIf="editingId" (click)="cancelEdit()">Cancel</button>
</div>

<!-- List of Goals with Progress -->
<div *ngFor="let goal of goalsWithProgress$ | async" class="goal-card">
  <div class="progress-bar">
    <div class="fill" [style.width.%]="goal.percent"></div>
  </div>
  <div class="goal-label">
    {{ goal.name }} â€” {{ goal.percent | number:'1.0-0' }}% of {{ goal.target | currency:'USD' }}
  </div>

  <!-- Edit/Delete controls only in full mode -->
  <div *ngIf="!displayOnly" class="goal-actions">
    <button (click)="editGoal(goal)">Edit</button>
    <button (click)="deleteGoal(goal.id)">Delete</button>
  </div>
</div>
